<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Medieval Castle Defense</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
    #modal {
      display: none; /* –°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
      position: fixed;
      z-index: 1;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.4);
      padding-top: 60px;
    }

    #modalContent {
      background-color: #fefefe;
      margin: 5% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 300px;
      text-align: center;
    }

    #game {
      display: none; /* –°–∫—Ä—ã—Ç–æ –¥–æ –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö */
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –∞–≤–∞—Ç–∞—Ä–æ–≤ */
    .avatar {
      cursor: pointer;
      margin: 5px;
      border: 2px solid transparent;
      transition: border 0.3s;
    }

    .avatar:hover {
      border: 2px solid #007BFF; /* –¶–≤–µ—Ç —Ä–∞–º–∫–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
    }

    .selected {
      border: 2px solid #007BFF; /* –¶–≤–µ—Ç —Ä–∞–º–∫–∏ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∞–≤–∞—Ç–∞—Ä–∞ */
    }

    #avatarContainer {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }
  </style>
</head>
<body>
  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–≤–æ–¥–∞ –∏–º–µ–Ω–∏ –∏ –∞–≤–∞—Ç–∞—Ä–∞ -->
  <div id="modal">
    <div id="modalContent">
      <label for="nickname">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–∏–∫:</label>
      <input type="text" id="nickname" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–∏–∫" />
      
      <div>
        <label>–í—ã–±–µ—Ä–∏—Ç–µ –∞–≤–∞—Ç–∞—Ä:</label>
        <div id="avatarContainer">
          <img src="assets/images/avatar1.png" alt="–ê–≤–∞—Ç–∞—Ä 1" class="avatar" data-value="assets/images/avatar1.png" width="60">
          <img src="assets/images/avatar2.png" alt="–ê–≤–∞—Ç–∞—Ä 2" class="avatar" data-value="assets/images/avatar2.png" width="60">
          <img src="assets/images/avatar3.png" alt="–ê–≤–∞—Ç–∞—Ä 3" class="avatar" data-value="assets/images/avatar3.png" width="60">
          <img src="assets/images/avatar4.png" alt="–ê–≤–∞—Ç–∞—Ä 4" class="avatar" data-value="assets/images/avatar4.png" width="60">
          <img src="assets/images/avatar5.png" alt="–ê–≤–∞—Ç–∞—Ä 5" class="avatar" data-value="assets/images/avatar5.png" width="60">
          <img src="assets/images/avatar6.png" alt="–ê–≤–∞—Ç–∞—Ä 6" class="avatar" data-value="assets/images/avatar6.png" width="60">
          <img src="assets/images/avatar7.png" alt="–ê–≤–∞—Ç–∞—Ä 7" class="avatar" data-value="assets/images/avatar7.png" width="60">
        </div>
      </div>
      
      <button id="submitPlayerInfo">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
    </div>
  </div>
  
  <div id="playerDisplay"></div> <!-- –î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∏–∫–∞ -->

  <div id="game">
    <div id="castle">–ó–∞–º–æ–∫ (–£—Ä–æ–≤–µ–Ω—å 1) üè∞</div>
    <div id="resources">
      <p>
        <img src="assets/images/wood.png" alt="–î–µ—Ä–µ–≤–æ" width="30"> –î–µ—Ä–µ–≤–æ: <span id="wood">0</span>
      </p>
      <p>
        <img src="assets/images/stone.png" alt="–ö–∞–º–µ–Ω—å" width="30"> –ö–∞–º–µ–Ω—å: <span id="stone">0</span>
      </p>
    </div>
    <div id="controls">
      <button id="upgradeCastle">–£–ª—É—á—à–∏—Ç—å –∑–∞–º–æ–∫</button>
      <button id="launchWave">–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–æ–ª–Ω—É</button>
    </div>
    <div id="enemies">
      <p>–í–æ–ª–Ω–∞ –≤—Ä–∞–≥–æ–≤: <span id="wave">1</span></p>
      <div id="enemy">üëπ</div>
    </div>
    <div id="nav">
      <a href="pages/army.html"><button id="army">–ê—Ä–º–∏—è</button></a>
      <a href="pages/friends.html"><button id="friends">–î—Ä—É–∑—å—è</button></a>
      <a href="pages/leagues.html"><button id="leagues">–õ–∏–≥–∏</button></a>
      <a href="pages/shop.html"><button id="shop">–ú–∞–≥–∞–∑–∏–Ω</button></a>
    </div>
  </div>

  <div id="pages">
    <div id="armyPage" class="page" style="display:none;">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ê—Ä–º–∏–∏</div>
    <div id="friendsPage" class="page" style="display:none;">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –î—Ä—É–∑–µ–π</div>
    <div id="leaguesPage" class="page" style="display:none;">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –õ–∏–≥</div>
    <div id="shopPage" class="page" style="display:none;">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ú–∞–≥–∞–∑–∏–Ω–∞</div>
  </div>

  <script src="js/gema.js"></script>
  <script>
    // –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    window.onload = function() {
      document.getElementById('modal').style.display = 'block';
    };

    let selectedAvatar = '';

    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–æ–≤ –¥–ª—è –∞–≤–∞—Ç–∞—Ä–æ–≤
    document.querySelectorAll('.avatar').forEach(avatar => {
      avatar.addEventListener('click', () => {
        // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å 'selected' —É –≤—Å–µ—Ö –∞–≤–∞—Ç–∞—Ä–æ–≤
        document.querySelectorAll('.avatar').forEach(av => av.classList.remove('selected'));
        // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å 'selected' –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∞–≤–∞—Ç–∞—Ä–∞
        avatar.classList.add('selected');
        selectedAvatar = avatar.getAttribute('data-value'); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∞–≤–∞—Ç–∞—Ä–∞
      });
    });

    document.getElementById('submitPlayerInfo').addEventListener('click', () => {
      const nickname = document.getElementById('nickname').value;

      if (nickname && selectedAvatar) {
        document.getElementById('playerDisplay').textContent = `–ò–≥—Ä–æ–∫: ${nickname}`;
        document.getElementById('playerDisplay').style.display = 'block';
        document.getElementById('game').style.display = 'block'; // –ü–æ–∫–∞–∑–∞—Ç—å –∏–≥—Ä—É
        document.getElementById('modal').style.display = 'none'; // –°–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
      } else {
        alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–∏–∫ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∞–≤–∞—Ç–∞—Ä.');
      }
    });
  </script>
</body>
</html>
